(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"4GMY":function(n,e,l){"use strict";l.r(e);var t=l("CcnG"),o=l("mrSG"),u=l("ZZ/e"),r=l("ZJFI"),a=l("n90K"),i=l("gTw3"),c=function(){function n(n,e,l,t,o,u){this.route=n,this.database=e,this.loadingController=l,this.alertController=t,this.geolocation=o,this.storage=u}return n.prototype.ngOnInit=function(){var n=this;this.request_id=this.route.snapshot.paramMap.get("request_id"),this.database.getEmergencyRequestById(this.request_id).subscribe(function(e){console.log(e),n.request=e})},n.prototype.postular=function(){return o.__awaiter(this,void 0,void 0,function(){var n,e=this;return o.__generator(this,function(l){switch(l.label){case 0:return[4,this.loadingController.create({message:"Procesando Informacion"})];case 1:return[4,(n=l.sent()).present()];case 2:return l.sent(),this.geolocation.getCurrentPosition().then(function(l){e.storage.getObject("user_data").then(function(t){var o=JSON.parse(t);e.database.addEmergencyRequestsPostulant(e.request_id,{id:o.id,pro_name:o.first_name+" "+o.last_name,pro_avatar:o.avatar,pro_id:o.id,latitude:l.coords.latitude,longitude:l.coords.longitude}).then(function(){n.dismiss(),console.log("Ok")},function(e){n.dismiss(),console.log("Error getting location"+e)})})}).catch(function(e){n.dismiss(),console.log("Error getting location"+e)}),[2]}})})},n}(),s=function(){return function(){}}(),d=l("pMnS"),m=l("oBZk"),f=l("ZYCi"),p=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function g(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,11,"ion-header",[],null,null,null,m.jb,m.r)),t["\u0275did"](1,49152,null,0,u.D,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275eld"](2,0,null,0,9,"ion-toolbar",[["mode","ios"]],null,null,null,m.Jb,m.R)),t["\u0275did"](3,49152,null,0,u.Db,[t.ChangeDetectorRef,t.ElementRef],{mode:[0,"mode"]},null),(n()(),t["\u0275eld"](4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,m.X,m.f)),t["\u0275did"](5,49152,null,0,u.n,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275eld"](6,0,null,0,2,"ion-back-button",[["color","dark"],["icon","ios-arrow-back"],["text",""]],null,[[null,"click"]],function(n,e,l){var o=!0;return"click"===e&&(o=!1!==t["\u0275nov"](n,8).onClick(l)&&o),o},m.U,m.c)),t["\u0275did"](7,49152,null,0,u.i,[t.ChangeDetectorRef,t.ElementRef],{color:[0,"color"],icon:[1,"icon"],text:[2,"text"]},null),t["\u0275did"](8,16384,null,0,u.j,[[2,u.jb],u.Kb],null,null),(n()(),t["\u0275eld"](9,0,null,0,2,"ion-title",[],null,null,null,m.Ib,m.Q)),t["\u0275did"](10,49152,null,0,u.Bb,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275ted"](11,0,["",""])),(n()(),t["\u0275eld"](12,0,null,null,3,"ion-content",[],null,null,null,m.fb,m.n)),t["\u0275did"](13,49152,null,0,u.w,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275eld"](14,0,null,0,1,"ion-card",[],null,null,null,m.cb,m.g)),t["\u0275did"](15,49152,null,0,u.o,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275eld"](16,0,null,null,6,"ion-footer",[],null,null,null,m.hb,m.p)),t["\u0275did"](17,49152,null,0,u.B,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275eld"](18,0,null,0,4,"ion-toolbar",[],null,null,null,m.Jb,m.R)),t["\u0275did"](19,49152,null,0,u.Db,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275eld"](20,0,null,0,2,"ion-button",[["color","orange"],["expand","block"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.postular()&&t),t},m.W,m.e)),t["\u0275did"](21,49152,null,0,u.m,[t.ChangeDetectorRef,t.ElementRef],{color:[0,"color"],expand:[1,"expand"]},null),(n()(),t["\u0275ted"](-1,0,[" Postular "]))],function(n,e){n(e,3,0,"ios"),n(e,7,0,"dark","ios-arrow-back",""),n(e,21,0,"orange","block")},function(n,e){var l=e.component;n(e,11,0,null==l.request?null:l.request.subcategory_name)})}function b(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-emergency-request-view",[],null,null,null,g,p)),t["\u0275did"](1,114688,null,0,c,[f.a,r.a,u.Hb,u.b,i.a,a.a],null,null)],function(n,e){n(e,1,0)},null)}var h=t["\u0275ccf"]("app-emergency-request-view",c,b,{},{},[]),R=l("Ip0R"),_=l("gIcY");l.d(e,"EmergencyRequestViewPageModuleNgFactory",function(){return C});var C=t["\u0275cmf"](s,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[d.a,h]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,R.m,R.l,[t.LOCALE_ID,[2,R.w]]),t["\u0275mpd"](4608,_["\u0275angular_packages_forms_forms_j"],_["\u0275angular_packages_forms_forms_j"],[]),t["\u0275mpd"](4608,u.c,u.c,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,u.Jb,u.Jb,[u.c,t.ComponentFactoryResolver,t.Injector,R.d]),t["\u0275mpd"](4608,u.Nb,u.Nb,[u.c,t.ComponentFactoryResolver,t.Injector,R.d]),t["\u0275mpd"](1073742336,R.c,R.c,[]),t["\u0275mpd"](1073742336,_["\u0275angular_packages_forms_forms_bc"],_["\u0275angular_packages_forms_forms_bc"],[]),t["\u0275mpd"](1073742336,_.FormsModule,_.FormsModule,[]),t["\u0275mpd"](1073742336,u.Fb,u.Fb,[]),t["\u0275mpd"](1073742336,f.n,f.n,[[2,f.t],[2,f.m]]),t["\u0275mpd"](1073742336,s,s,[]),t["\u0275mpd"](1024,f.k,function(){return[[{path:"",component:c}]]},[])])})}}]);