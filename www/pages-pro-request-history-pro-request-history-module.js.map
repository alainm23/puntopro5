{"version":3,"sources":["webpack:///./src/app/pages/pro-request-history/pro-request-history.module.ts","webpack:///./src/app/pages/pro-request-history/pro-request-history.page.html","webpack:///./src/app/pages/pro-request-history/pro-request-history.page.scss","webpack:///./src/app/pages/pro-request-history/pro-request-history.page.ts"],"names":[],"mappings":"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","file":"pages-pro-request-history-pro-request-history-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProRequestHistoryPage } from './pro-request-history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProRequestHistoryPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProRequestHistoryPage]\n})\nexport class ProRequestHistoryPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\" icon=\\\"ios-arrow-back\\\" color=\\\"dark\\\"></ion-back-button>\\n    </ion-buttons>\\n\\n    <ion-title>Historial de trabajos</ion-title>\\n  </ion-toolbar>\\n\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-segment color=\\\"dark\\\" (ionChange)=\\\"segmentChanged($event.detail.value)\\\" [(ngModel)]=\\\"segment_value\\\">\\n      <ion-segment-button value=\\\"sent\\\">\\n        <ion-label>Postulados</ion-label>\\n      </ion-segment-button>\\n      <ion-segment-button value=\\\"in_progress\\\">\\n        <ion-label>En progreso</ion-label>\\n      </ion-segment-button>\\n      <ion-segment-button value=\\\"finalized\\\">\\n        <ion-label>Finalizados</ion-label>\\n      </ion-segment-button>\\n    </ion-segment>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid *ngIf=\\\"is_loading === true\\\" style=\\\"height: 100%; margin-bottom: 1rem\\\">\\n    <ion-row justify-content-center align-items-center style=\\\"height: 100%\\\">\\n      <ion-spinner name=\\\"bubbles\\\"></ion-spinner>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-grid *ngIf=\\\"is_loading === false\\\">\\n    <ion-row>\\n      <ion-col>\\n        <ion-list>\\n          <ion-card mode=\\\"md\\\" *ngFor=\\\"let item of list\\\" (click)=\\\"viewRequest (item?.dataGeneral)\\\">\\n            <ion-card-header class=\\\"request-card-header\\\">\\n              <ion-card-title>{{ item?.dataGeneral.title }}</ion-card-title>\\n              <ion-item lines=\\\"none\\\" no-padding no-margin>\\n                {{ getRelativeDateTime (item?.dataGeneral.created_date) }}\\n                <ion-badge class=\\\"request-badge-margin\\\" color=\\\"orange\\\">{{ item?.dataGeneral.service_name }}</ion-badge>\\n              </ion-item>\\n            </ion-card-header>\\n            <hr class=\\\"card-separator\\\">\\n            <ion-card-content>\\n              {{ item?.dataGeneral.detail }}\\n            </ion-card-content>\\n            <hr class=\\\"card-separator\\\">\\n            <ion-item lines=\\\"none\\\">\\n              Postulantes\\n              <ion-badge class=\\\"request-badge-margin\\\" *ngIf=\\\"item.postulants > 0\\\" color=\\\"danger\\\">\\n                {{ item.postulants }}\\n              </ion-badge>\\n\\n              <ion-badge class=\\\"request-badge-margin\\\" *ngIf=\\\"!item.postulants > 0\\\" color=\\\"danger\\\">\\n                0\\n              </ion-badge>\\n              <ion-button fill=\\\"outline\\\" slot=\\\"end\\\" color=\\\"dark\\\">Ver</ion-button>\\n            </ion-item>\\n          </ion-card>\\n        </ion-list>\\n      </ion-col>\\n    </ion-row>  \\n  </ion-grid>\\n</ion-content>\\n\"","module.exports = \".card-separator {\\n  background-color: #00000047; }\\n\\n.request-card-header {\\n  padding-bottom: 0px !important; }\\n\\n.request-badge-margin {\\n  margin-left: 0.5rem; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsYWluL1B1bnRvUHJvL1B1bnRvUHJvLUlvbmljNC9zcmMvYXBwL3BhZ2VzL3Byby1yZXF1ZXN0LWhpc3RvcnkvcHJvLXJlcXVlc3QtaGlzdG9yeS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwyQkFBMkIsRUFBQTs7QUFHN0I7RUFDRSw4QkFBOEIsRUFBQTs7QUFHaEM7RUFDRSxtQkFBbUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Byby1yZXF1ZXN0LWhpc3RvcnkvcHJvLXJlcXVlc3QtaGlzdG9yeS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZC1zZXBhcmF0b3Ige1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwNDc7XG59XG5cbi5yZXF1ZXN0LWNhcmQtaGVhZGVyIHtcbiAgcGFkZGluZy1ib3R0b206IDBweCAhaW1wb3J0YW50O1xufVxuXG4ucmVxdWVzdC1iYWRnZS1tYXJnaW4ge1xuICBtYXJnaW4tbGVmdDogMC41cmVtO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\n\n// Ionic\nimport { NavController, ModalController } from '@ionic/angular';\n\n// Services\nimport { DatabaseService } from '../../services/database.service';\nimport { StorageService } from '../../services/storage.service';\n\n// Animations\nimport { myEnterAnimation } from '../../animations/enter';\nimport { myLeaveAnimation } from '../../animations/leave'; \n\n// Modal Page\nimport { ChatPage } from '../../modals/chat/chat.page';\n\n// Moment\nimport * as moment from 'moment';  \n@Component({\n  selector: 'app-pro-request-history',\n  templateUrl: './pro-request-history.page.html',\n  styleUrls: ['./pro-request-history.page.scss'],\n})\nexport class ProRequestHistoryPage implements OnInit {\n  list: any [];\n  list_backup: any [];\n  is_loading: boolean = true;\n\n  segment_value: string = \"sent\";\n\n  constructor(private database: DatabaseService,\n              private navCtrl: NavController,\n              private modalCtrl: ModalController,\n              private storage: StorageService) { }\n\n  ngOnInit() {\n    this.storage.getValue ('user_uid').then (user_id => {\n      this.database.getProRequestHistory (user_id).subscribe ((response: any) => {\n        console.log (response);\n        this.list = response;\n        this.list_backup = response;\n\n        this.segmentChanged (this.segment_value);\n\n        this.is_loading = false;\n      });\n    });\n  }\n\n  segmentChanged (value: any) {\n    this.list = this.list_backup;\n\n    console.log (this.list);\n\n    if (value === 'sent') {\n      this.list = this.list.filter ((item: any) => {\n        return item.data.state === 'sent';\n      });\n    } else if (value === 'in_progress') {\n      this.list = this.list.filter ((item: any) => {\n        return item.data.state === 'in_progress';\n      });\n    } else {\n      this.list = this.list.filter ((item: any) => {\n        return item.data.state === 'finalized';\n      });\n    }\n  }\n\n  getRelativeDateTime (date: string) {\n    return moment (date, \"\").fromNow ();\n  }\n\n  async viewRequest (item: any) {\n    console.log (item);\n\n    if (item.state === 'created') {\n\n    } else if (item.state === 'in_progress') {\n      const parms: any = {\n        type: 'pro',\n        sender: item.pro_id,\n        receiver: item.client_id,\n        _chat_id: ''\n      };\n      \n      const modal = await this.modalCtrl.create({\n        component: ChatPage,\n        componentProps: parms,\n        mode: 'ios',\n        enterAnimation: myEnterAnimation,\n        leaveAnimation: myLeaveAnimation\n      });\n\n      return await modal.present();\n    } else {\n\n    }\n  }\n}\n"],"sourceRoot":""}