(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{Ei90:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),u=e("mrSG"),o=e("ZZ/e"),i=e("ZJFI"),r=e("n90K"),a=e("0ygI"),s=e("YOxB"),c=e("52n8"),d=e("CjQN"),m=e("bSmm"),f=e("EZgL"),p=e("+1rV"),g=function(){function l(l,n,e,t,u,o,i){this.route=l,this.utils=n,this.modalCtrl=e,this.socialSharing=t,this.loadingController=u,this.database=o,this.storage=i}return l.prototype.ngOnInit=function(){var l=this;this.request_id=this.route.snapshot.paramMap.get("id"),this.storage.getValue("user_uid").then(function(n){l.database.getRequestById(l.request_id).subscribe(function(n){l.request=n,console.log(n),l.database.getPostulantsByRequest(l.request_id,n.latitude,n.longitude).subscribe(function(e){l.postulants=e.sort(function(e,t){return l.utils.getDistancia(n.latitude,n.longitude,e.latitude,e.longitude)>l.utils.getDistancia(n.latitude,n.longitude,t.latitude,t.longitude)?1:l.utils.getDistancia(n.latitude,n.longitude,e.latitude,e.longitude)<l.utils.getDistancia(n.latitude,n.longitude,t.latitude,t.longitude)?-1:0}),console.log(l.postulants)})})})},l.prototype.showMessage=function(l){},l.prototype.editRequest=function(){return u.__awaiter(this,void 0,void 0,function(){var l,n;return u.__generator(this,function(e){switch(e.label){case 0:return l={request_id:this.request_id,is_edit:!0},console.log(l),[4,this.modalCtrl.create({component:f.a,componentProps:l,mode:"ios",enterAnimation:s.a,leaveAnimation:c.a})];case 1:return(n=e.sent()).onDidDismiss().then(function(l){}),[4,n.present()];case 2:return[2,e.sent()]}})})},l.prototype.goProfile=function(l){return u.__awaiter(this,void 0,void 0,function(){var n,e=this;return u.__generator(this,function(t){switch(t.label){case 0:return[4,this.modalCtrl.create({component:m.a,componentProps:{profile_id:l.id,to_confirm:!0},mode:"ios",enterAnimation:s.a,leaveAnimation:c.a})];case 1:return(n=t.sent()).onDidDismiss().then(function(n){return u.__awaiter(e,void 0,void 0,function(){var e,t=this;return u.__generator(this,function(o){switch(o.label){case 0:return"response"!=n.role?[3,3]:[4,this.loadingController.create({message:"Procesando Informacion ..."})];case 1:return e=o.sent(),console.log("item",l),[4,e.present()];case 2:o.sent(),this.database.selectProToRequest(l,this.request,this.postulants).then(function(n){return u.__awaiter(t,void 0,void 0,function(){return u.__generator(this,function(t){switch(t.label){case 0:return[4,this.modalCtrl.create({component:p.a,componentProps:{type:"user",sender:this.request.client_id,receiver:l.id,_chat_id:n},mode:"ios",enterAnimation:s.a,leaveAnimation:c.a})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[4,e.dismiss()];case 3:return t.sent(),[2]}})})}).catch(function(l){e.dismiss(),console.log("selectProToRequest",l)}),o.label=3;case 3:return[2]}})})}),[4,n.present()];case 2:return[2,t.sent()]}})})},l.prototype.shareRequest=function(){this.socialSharing.share("Una solicitud fue creada por "+this.request.client_name+" en PuntoPro https://puntopro.pe/?type=request?id="+this.request_id)},l}(),h=function(){return function(){}}(),b=e("pMnS"),_=e("oBZk"),R=e("Ip0R"),v=e("ZYCi"),C=t["\u0275crt"]({encapsulation:0,styles:[[".card-separator[_ngcontent-%COMP%]{background-color:#00000047}.item-header[_ngcontent-%COMP%]{margin-left:1rem;font-weight:700}.more[_ngcontent-%COMP%]{color:#00f}"]],data:{}});function D(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,13,"ion-item",[],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.goProfile(l.context.$implicit)&&t),t},_.kb,_.t)),t["\u0275did"](2,49152,null,0,o.H,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](3,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,_.R,_.b)),t["\u0275did"](4,49152,null,0,o.f,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](5,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,0,5,"ion-label",[],null,null,null,_.lb,_.v)),t["\u0275did"](7,49152,null,0,o.N,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](8,0,null,0,1,"h2",[["text-wrap",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,["",""])),(l()(),t["\u0275eld"](10,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,[""," Km."])),(l()(),t["\u0275eld"](12,0,null,0,2,"ion-button",[["color","dark"],["fill","outline"],["slot","end"]],null,null,null,_.U,_.e)),t["\u0275did"](13,49152,null,0,o.k,[t.ChangeDetectorRef,t.ElementRef],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),t["\u0275ted"](-1,0,["Ver perfil"]))],function(l,n){l(n,13,0,"dark","outline")},function(l,n){l(n,5,0,null==n.context.$implicit?null:n.context.$implicit.pro_avatar),l(n,9,0,null==n.context.$implicit?null:n.context.$implicit.pro_fullname),l(n,11,0,null==n.context.$implicit?null:n.context.$implicit.distance)})}function q(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"ion-header",[],null,null,null,_.gb,_.q)),t["\u0275did"](1,49152,null,0,o.B,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](2,0,null,0,9,"ion-toolbar",[["mode","ios"]],null,null,null,_.Fb,_.P)),t["\u0275did"](3,49152,null,0,o.Bb,[t.ChangeDetectorRef,t.ElementRef],{mode:[0,"mode"]},null),(l()(),t["\u0275eld"](4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,_.V,_.f)),t["\u0275did"](5,49152,null,0,o.l,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](6,0,null,0,2,"ion-back-button",[["color","dark"],["icon","ios-arrow-back"],["text",""]],null,[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,8).onClick(e)&&u),u},_.S,_.c)),t["\u0275did"](7,49152,null,0,o.g,[t.ChangeDetectorRef,t.ElementRef],{color:[0,"color"],icon:[1,"icon"],text:[2,"text"]},null),t["\u0275did"](8,16384,null,0,o.h,[[2,o.hb],o.Ib],null,null),(l()(),t["\u0275eld"](9,0,null,0,2,"ion-title",[],null,null,null,_.Eb,_.O)),t["\u0275did"](10,49152,null,0,o.zb,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](11,0,[" "," "])),(l()(),t["\u0275eld"](12,0,null,null,20,"ion-content",[],null,null,null,_.cb,_.m)),t["\u0275did"](13,49152,null,0,o.u,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](14,0,null,0,18,"ion-grid",[],null,null,null,_.fb,_.p)),t["\u0275did"](15,49152,null,0,o.A,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](16,0,null,0,16,"ion-row",[],null,null,null,_.tb,_.D)),t["\u0275did"](17,49152,null,0,o.ib,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](18,0,null,0,14,"ion-col",[],null,null,null,_.bb,_.l)),t["\u0275did"](19,49152,null,0,o.t,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](20,0,null,0,5,"ion-card",[["text-wrap",""]],null,null,null,_.ab,_.g)),t["\u0275did"](21,49152,null,0,o.m,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](22,0,null,0,3,"ion-item",[],null,null,null,_.kb,_.t)),t["\u0275did"](23,49152,null,0,o.H,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](24,0,null,0,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](25,null,[""," necesita "," en ",""])),(l()(),t["\u0275eld"](26,0,null,0,6,"ion-list",[],null,null,null,_.nb,_.w)),t["\u0275did"](27,49152,null,0,o.O,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](28,0,null,0,2,"ion-list-header",[],null,null,null,_.mb,_.x)),t["\u0275did"](29,49152,null,0,o.P,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" Postulantes "])),(l()(),t["\u0275and"](16777216,null,0,1,null,D)),t["\u0275did"](32,278528,null,0,R.i,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"ios"),l(n,7,0,"dark","ios-arrow-back",""),l(n,32,0,e.postulants)},function(l,n){var e=n.component;l(n,11,0,null==e.request?null:e.request.service_name),l(n,25,0,null==e.request?null:e.request.client_name,null==e.request?null:e.request.service_name,null==e.request?null:e.request.address_name)})}function w(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-request-view",[],null,null,null,q,C)),t["\u0275did"](1,114688,null,0,g,[v.a,a.a,o.Hb,d.a,o.Fb,i.a,r.a],null,null)],function(l,n){l(n,1,0)},null)}var k=t["\u0275ccf"]("app-request-view",g,w,{},{},[]),E=e("gIcY");e.d(n,"RequestViewPageModuleNgFactory",function(){return P});var P=t["\u0275cmf"](h,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[b.a,k]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,R.l,R.k,[t.LOCALE_ID,[2,R.t]]),t["\u0275mpd"](4608,E["\u0275angular_packages_forms_forms_j"],E["\u0275angular_packages_forms_forms_j"],[]),t["\u0275mpd"](4608,o.c,o.c,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,o.Hb,o.Hb,[o.c,t.ComponentFactoryResolver,t.Injector,R.d]),t["\u0275mpd"](4608,o.Kb,o.Kb,[o.c,t.ComponentFactoryResolver,t.Injector,R.d]),t["\u0275mpd"](1073742336,R.c,R.c,[]),t["\u0275mpd"](1073742336,E["\u0275angular_packages_forms_forms_bc"],E["\u0275angular_packages_forms_forms_bc"],[]),t["\u0275mpd"](1073742336,E.FormsModule,E.FormsModule,[]),t["\u0275mpd"](1073742336,o.Db,o.Db,[]),t["\u0275mpd"](1073742336,v.n,v.n,[[2,v.t],[2,v.m]]),t["\u0275mpd"](1073742336,h,h,[]),t["\u0275mpd"](1024,v.k,function(){return[[{path:"",component:g}]]},[])])})}}]);